# WASM

## WASM?

[WebAssembly (short wasm) is an open standard defined by the W3C](https://webassembly.org). It defines a bytecode for executing programs within web browsers, but can also be used outside of them. The aim of the development was to enable more powerful web applications, both in terms of loading times and execution. The project is supported by all major browser engine developers, ie Mozilla, Microsoft, Google and Apple.  

## WASM + Go

[Go 1.11](https://go.dev/blog/go1.11) ([Release Notes](https://go.dev/doc/go1.11)) was released in 2018, the first version with [support for WebAssembly](https://go.dev/doc/go1.11#wasm).  

## How?

1. you must have Golang [installed](https://go.dev/doc/install). 
1. you must write your application in Go and use the ["syscall/js"](https://pkg.go.dev/syscall/js) package. The example is in the [wasm.go](https://github.com/SimonWaldherr/golang-examples/blob/master/expert/wasm/wasm.go) file.
1. the .go file must be compiled - this can be done with this command: ```GOOS=js GOARCH=wasm go build -o cc.wasm wasm.go``` 
1. so that the browser can do something with the file generated by the Golang compiler, the wasm_exec.js file from the Go toolchain must be provided. ```cp $(go env GOROOT)/misc/wasm/wasm_exec.js wasm_exec.js``` 
1. so that the browser can then work with it, the [wasm_exec.js](https://github.com/golang/go/blob/master/misc/wasm/wasm_exec.js) and the .wasm file must be integrated/loaded by an HTML file. Example: [index.html](https://github.com/SimonWaldherr/golang-examples/blob/master/expert/wasm/index.html)
1. the .wasm file must be served with the correct MIME type. Of course, this can also be done using a Golang web server. Example: [server.go](https://github.com/SimonWaldherr/golang-examples/blob/master/expert/wasm/server.go)

All of this can be done by running the bash script [init.sh](https://github.com/SimonWaldherr/golang-examples/blob/master/expert/wasm/init.sh) in this directory.


